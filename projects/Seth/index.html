<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seth's AP Research Exstravaganza!!!</title>
    <meta name="description"
        content="Produced for Seth Chavez by Micah Bushman, this webpage does AP Research stuff, I guess.">
    <link rel="stylesheet" href="seth.css">
    <script src="./page.js"></script>
    <script>
        // Must be sent alongside page in order to be available for use immediately.
        const sections = [["Base", "NonReturningUserPane", "ReturningUserPane", "LoginPane"], ["SignUp"], ["Loading"], ["GameOne", "GameOneDescription", "GameOneCountDown", "GameOneGame", "GameOneEndSceen"], ["GameTwo", "GameTwoDescription", "GameTwoGame", "GameTwoEndScreen"], ["GameThree", "GameThreeDescription", "GameThreeGame", "GameThreeEndScreen"], ["EndPane"]]
        function ShowOnly(section) {
            // Hide all other things.
            sections.forEach(part => part.forEach(
                section => {
                    /* try { */
                        document.getElementById(section).hidden = true
                    /* } catch (error) {
                        console.log(error);
                        console.log(section);
                    } */
                }
            ));

            // Find the passed section.
            sectionLoop:
            for (let i = 0; i < sections.length; i++) {
                for (let j = 0; j < sections[i].length; j++) {
                    if (sections[i][j] == section) {
                        // Show the section.
                        document.getElementById(section).hidden = false;
                        
                        // Also make sure its parent section is shown.
                        document.getElementById(sections[i][0]).hidden = false;

                        break sectionLoop;
                    }
                }
            }
        }
    </script>
</head>
<!-- At the start, only show the base section. -->

<body>
    <a href="../../index.html" class="left"><img src="../../FTP/Site_Media/Logo/Logo_Square.svg" alt="MicahB.Dev Logo"
            style="height: 1em;"></a>
    <h class="right">Seth Chavez and Micah Bushman</h>
    <br><br>

    <div class="container">
        <br>
        <div id="Base">
            <div id="NonReturningUserPane">
                <h1>Seth's AP Research <b>Rumpus</b>!!!</h1>
                <br>
                <button onclick="DoStage(0)">Click here to start!</button>
                <button onclick="ShowOnly(`LoginPane`)">Login as a different user!</button>
            </div>

            <div id="ReturningUserPane" hidden style="align-items: center;">
                <h1>Welcome back!</h1>
                <p>We see that you've returned, <b id="ReturningUsername"></b>!</p>
                <p>To continue, click this button:</p>
                <button onclick="ContinueTest()">
                    Continue where you left off!
                </button>

                <p>Not <b id="ReturningUsername1"></b>?</p>
                <button onclick="ShowOnly(`NonReturningUserPane`)">
                    Restart as a new user!
                </button>
                <p>or</p>
                <button onclick="ShowOnly(`LoginPane`)">
                    Login as a different user!
                </button>
            </div>

            <div id="LoginPane" hidden>
                <p>Enter your username and password here, then hit the button below to continue:</p>
                <input type="text" placeholder="Username" id="LoginPaneUsername"><br>
                <input type="text" placeholder="Password" id="LoginPanePassword">
                <button onclick="
                    LoginAs(document.getElementById(`LoginPaneUsername`).value, document.getElementById(`LoginPanePassword`).value, true).then(e => ContinueTest())
                ">Continue where you left off!</button>
            </div>
        </div>

        <div id="SignUp" hidden>
            <p>First, we need you to sign up, so we can track your information:</p>

            <label for="UserName">Please enter your desired username here.</label>
            <input type="text" name="UserName" id="UserName" placeholder="Your Username">

            <p>
                For future reference, this is your password: <b id="Password">Password</b>
                <br>
                Please keep it safe if you plan to return at any point in the test, however it will be saved automatically, so don't worry that much about it.
            </p>

            <button onclick="DoStage(1)">Click here to move onto the next step!</button>
        </div>

        <div id="Loading" hidden>
            <h1>Loading...</h1>
        </div>

        <div id="GameOne" hidden>
            <div id="GameOneDescription">
                <h1>Part one: Stroop Attention Game</h1>
                <p>
                    For this test, you'll be given a word, and then you will enter the <b>color of the word!</b> (not
                    the name!)<br><br>
                    You will get 2.25 seconds to respond to each round, where there's one practice round and ten real
                    ones. After you have completed the tenth round, your stats will be saved automatically.
                </p>
                <button onclick="StartGameOne()">Once you're ready to get started, click here!</button>
            </div>
            <h1 id="GameOneCountDown" hidden>CountDown</h1>
            <div id="GameOneGame" hidden>
                <p id="GameOneRoundNumber">Practice Round</p>
                <h1 id="GameOneText">
                    Colored Word Here
                </h1>
                <div style="display: block;">
                    <button onclick="EndGameOneRoundWithColor('Red');">Red</button><button
                        onclick="EndGameOneRoundWithColor('Orange');">Orange</button><button
                        onclick="EndGameOneRoundWithColor('Yellow');">Yellow</button><br>
                    <button onclick="EndGameOneRoundWithColor('Green');">Green</button><button
                        onclick="EndGameOneRoundWithColor('Blue');">Blue</button><button
                        onclick="EndGameOneRoundWithColor('Pink');">Pink</button><br>
                </div>
            </div>
            <div id="GameOneEndSceen" hidden>
                <p id="GameOneEndScreenTextStart"></p>
                <button onclick="StartGameOne()">Play it again!</button>
                <button onclick="DoStage(2)">Go On!</button>
            </div>
        </div>
        <button onclick="document.getElementById(`GameTwo`).hidden = false;" hidden>Show game two</button>
        <div id="GameTwo" hidden>
            <div id="GameTwoDescription">
                <h1>Part two: Visual Memory Test</h1>
                <p>
                    Now, you'll be given a grid of squares, where part of them light up. After 1 second, they will turn
                    black and you must click on the squares which had lit up. At first, only three squares on a 3*3 grid
                    will turn white, but after each round, one more square will light up. After every third round, the
                    size of the grid will increase by 1.
                </p>
                <button onclick="StartGameTwo()">When you're ready to start, click here!</button>
            </div>

            <div id="GameTwoGame" hidden>
                <div>
                    <div id="GameTwoText" style="display: block;">GAME TWO INFO</div>
                    <img id="GameTwoLife" src="./Test_Images/Pixel_Heart@5x.png"
                        alt="A heart indicating you have one life." class="LifeIcon" hidden>
                    <div id="GameTwoLives" style="display: flex; flex-direction: row;">GameTwoLives</div>
                </div>
                <div id="GameTwoGrid" style="display:block">

                </div>
            </div>

            <div id="GameTwoEndScreen" hidden>
                <p id="GameTwoEndScreenTextStart"></p>
                <p>Now, are you ready to go on? Or do you want to play again?</p>
                <button onclick="StartGameTwo()">Play again</button><button
                    onclick="ShowGameThree()">Move
                    on!</button>
            </div>
        </div>

        <button onclick="StartGameThree()">DEBUG START GAME 3</button>
        <div id="GameThree" hidden>
            <div id="GameThreeDescription">
                <h1>Part three: Seth's Stinker Questions</h1>
                <p>A series of figures will be presented. Your goal is to identify the figure that makes the most sense to replace the question mark. You will be given 15 seconds for each question. Also, you must play this section <b>three times</b> today, <b>at different times</b>!<br> You can reselect your answer at any time within the 15 seconds.
                    In each section, you'll be given 12 questions, for a total of 36 questions, and the questions will be different in each section.
                    <br>
                    <p id="GameThreeSectionDiv">Please wait for your progress to be loaded!</p>
                </p>
            </div>
            <div id="GameThreeGame">
                <p>Time Left: <b id="Game3Time">0:15</b> Questions Done: <b id="Game3Progress">1/12</b></p>

                <div style="width: min-content; display: grid;">
                    <img id="Game3Question" src="./Test_Images/Part_3_Images/Q1/question.png" alt="The question">
                    <div id="OverQuestion"></div>
                </div>

                <br>
                <div style="display: flex; flex-direction: row;" id="GameThreeAnswerDiv">
                    <img id="Game3Answer1" src="./Test_Images/Part_3_Images/Q1/1.png" class="Game3Image">
                    <img id="Game3Answer2" src="./Test_Images/Part_3_Images/Q1/2.png" class="Game3Image">
                    <img id="Game3Answer3" src="./Test_Images/Part_3_Images/Q1/3.png" class="Game3Image">
                    <img id="Game3Answer4" src="./Test_Images/Part_3_Images/Q1/4.png" class="Game3Image">
                </div>
            </div>
            <div id="GameThreeEndScreen">
                [PH] Gob job! You did.
            </div>
        </div>
    </div>
</body>

</html>